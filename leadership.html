<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Leadership | NYU PDU</title>

  <!-- SEO / social -->
  <link rel="icon" type="image/png" href="PDUVIOLETWHITE.png">
  <meta name="description" content="Meet the leadership team of the NYU Parliamentary Debate Union at New York University." />
  <meta name="keywords" content="NYU Debate, Debate Club, New York University, Parliamentary Debate, PDU, speech and debate, college debate, leadership" />
  <meta name="author" content="NYU Parliamentary Debate Union" />
  <link rel="canonical" href="https://nyupdu.github.io/leadership.html" />
  <meta property="og:title" content="Leadership | NYU PDU" />
  <meta property="og:description" content="Meet the leadership team of the NYU Parliamentary Debate Union at New York University." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://nyupdu.github.io/leadership.html" />
  <meta property="og:image" content="https://nyupdu.github.io/PDULOGO_Trans.png" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Site stylesheet (kept) -->
  <link rel="stylesheet" href="style.css" />

  <style>
    /* ============================================================
       Page-scoped theme tokens (kept glass + NYU purple vibe)
       ============================================================ */
    :root{
      --pdu-purple: #7c3aed;
      --pdu-purple-soft: rgba(124,58,237,.65);
      --glass-bg: rgba(255,255,255,.10);
      --glass-border: rgba(255,255,255,.20);
      --chip-border: rgba(255,255,255,.35);
      --glass-shadow: 0 10px 28px rgba(0,0,0,.30);
      --text-on-glass: #fff;
    }

    body{
      color: var(--text-on-glass);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }

    /* ===== Hero ===== */
    .page-title{
      font-family: "DM Serif Display", serif;
      font-size: clamp(2rem, 2.2rem + 1vw, 3rem);
      margin: 0 0 .25rem;
    }
    .page-subtitle{ opacity:.9; margin:0; font-size:1.05rem; }
    #leadersHero{ flex-direction:column; text-align:center; }

    /* Glowing bar styles moved to global stylesheet */

    /* ===== Main wrapper ===== */
    .page-container{ max-width: 1100px; margin: 0 auto; padding: 1.25rem; }

    /* ===== Fine print ===== */
    .fine-print{
      font-size:.92rem; opacity:.8; text-align:center;
      margin: .5rem 0 1rem;
    }

    /* ===== Card layout ===== */
    .leaders-grid{
      display:flex; flex-wrap:wrap; gap:1.5rem; justify-content:center;
    }
    .leader-card{ flex:1 1 100%; }
    @media (min-width:768px){ .leader-card{ flex:0 0 calc(50% - 1.5rem); } }
    @media (min-width:1024px){ .leader-card{ flex:0 0 calc(25% - 1.5rem); } }

    /* ===== Card (old style brought back, with glow) ===== */
    .leader-card{
      --idle-glow: 0 0 0px rgba(124,58,237,.0), 0 0 0px rgba(199,191,255,.0);
      --hover-glow: 0 0 14px rgba(199,191,255,.35), 0 0 28px rgba(124,58,237,.35);

      /* Button reset so the whole card is a11y-clickable */
      appearance:none; border:none; text-align:left; cursor:pointer; background:transparent; padding:0;
      display:block; width:100%;

      position:relative; isolation:isolate; overflow:hidden;
      border-radius:20px;
      background: var(--glass-bg);
      border:1px solid var(--glass-border);
      backdrop-filter: blur(14px);
      box-shadow: var(--glass-shadow), var(--idle-glow);
      transition: transform .2s ease, box-shadow .25s ease;
    }
    .leader-card:hover, .leader-card:focus-visible{
      transform: translateY(-4px);
      box-shadow: var(--glass-shadow), var(--hover-glow);
      outline: none;
    }
    /* Slow subtle pulsing glow (can be commented if you prefer hover-only) */
    .leader-card::after{
      content:""; position:absolute; inset:-2px; border-radius:22px; pointer-events:none;
      box-shadow: 0 0 18px rgba(199,191,255,.18), 0 0 34px rgba(124,58,237,.18);
      animation: cardPulse 5.8s ease-in-out infinite alternate;
    }
    @keyframes cardPulse{
      0% { box-shadow: 0 0 10px rgba(199,191,255,.10), 0 0 20px rgba(124,58,237,.10); }
      100%{ box-shadow: 0 0 20px rgba(199,191,255,.22), 0 0 36px rgba(124,58,237,.22); }
    }

    /* Equity badge */
    .badge-equity{
      position:absolute; top:10px; left:10px; z-index:2;
      padding:.25rem .55rem; border-radius:999px;
      background: var(--pdu-purple-soft);
      border:1px solid var(--chip-border);
      font-weight:800; font-size:.85rem;
      box-shadow:0 6px 18px rgba(0,0,0,.35);
    }

    /* Media (strict 4:5 headshot) */
    .leader-media{ position:relative; aspect-ratio: 4 / 5; width:100%; overflow:hidden; border-bottom:1px solid rgba(255,255,255,.18); }
    .leader-media img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:50% 20%; display:block; }

    /* Info band */
    .leader-info{ padding: .4rem 1rem .55rem; text-align:center; color:#fff; }
    .leader-name{ font-family:"DM Serif Display", serif; font-size: clamp(1.35rem, 1.1rem + .8vw, 1.85rem); margin:0; letter-spacing:.2px; }
    .leader-sep{
      width:72%; height:2px; margin:.3rem auto .35rem;
      background: linear-gradient(90deg, rgba(255,255,255,.4), var(--pdu-purple), rgba(255,255,255,.4));
      box-shadow: 0 0 10px rgba(199,191,255,.4);
      border-radius:999px;
    }
    .leader-title{ font-weight:400; letter-spacing:.3px; opacity:.95; margin:0; }

    /* ===== Modal (full-screen) ===== */
    .modal{ position:fixed; inset:0; z-index:1000; display:none; align-items:center; justify-content:center; }
    .modal.open{ display:flex; }
    .modal-scrim{
      position:absolute; inset:0; background: rgba(8,8,16,.75); backdrop-filter: blur(6px);
    }
    .modal-panel{
      position:relative; z-index:1001; max-width: 980px; margin: 0 1rem; padding: 0;
      background: var(--glass-bg); border:1px solid var(--glass-border); border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
      overflow:hidden; display:flex; flex-direction:column;
    }
    .modal-media{ position:relative; width:100%; aspect-ratio: 4 / 5; overflow:hidden; border-bottom:1px solid rgba(255,255,255,.18); }
    .modal-media img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:50% 18%; }

    .modal-body{ padding: 1rem 1.25rem 1.25rem; }
    .modal-name{ font-family:"DM Serif Display", serif; font-size: clamp(1.8rem, 1.2rem + 2vw, 2.6rem); margin:.2rem 0 .15rem; }
    .modal-role{ font-weight:700; margin:.25rem 0 .5rem; }
    .modal-sep{ width: 200px; height:2px; background: linear-gradient(90deg, rgba(255,255,255,.4), var(--pdu-purple), rgba(255,255,255,.4)); box-shadow: 0 0 10px rgba(199,191,255,.4); border-radius:999px; margin:.5rem 0 .8rem; }
    .modal-bio{ line-height:1.7; opacity:.95; }

    .modal-actions{ display:flex; flex-wrap:wrap; gap:.5rem; margin-top:1rem; }
    .chip{
      display:inline-flex; align-items:center; justify-content:center;
      padding:.55rem 1rem; border-radius:999px;
      border:1px solid var(--chip-border); background: rgba(255,255,255,.08);
      text-decoration:none; color:#fff; font-weight:600; font-size:.95rem; white-space:nowrap;
      transition: transform .15s ease, background .15s ease;
    }
    .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.14); }

    .modal-close{
      position:absolute; top:10px; right:10px; z-index:1002;
      width:40px; height:40px; border-radius:12px;
      border:1px solid rgba(255,255,255,.3); background: rgba(0,0,0,.25);
      color:#fff; font-size:1.2rem; line-height:1; cursor:pointer;
    }
    .modal-close:focus-visible{ outline:2px solid rgba(255,255,255,.65); outline-offset:2px; }

    @media (min-width:700px){
      .modal-panel{ flex-direction:row; }
      .modal-media{ flex:0 0 40%; border-bottom:none; border-right:1px solid rgba(255,255,255,.18); }
      .modal-body{ flex:1; }
    }

    @media (max-width: 560px){
      .modal-panel{ margin: calc(60px + 0.75rem) 0.75rem 0.75rem; }
    }

    /* ===== Below-grid sections (forced visible) ===== */
    .below-cards{ margin-top: 2rem; display:grid; gap:1.25rem; }
    .glass-card{
      background: var(--glass-bg); border:1px solid var(--glass-border);
      border-radius:18px; padding:1rem 1.1rem; box-shadow: var(--glass-shadow);
      backdrop-filter: blur(12px); color:#fff;
    }
    .about-header{ font-family:"DM Serif Display", serif; font-size:1.4rem; margin:0 0 .5rem; }
    .about-preview{ margin:0 0 .75rem; opacity:.92; }

    /* Small reveal nicety */
    .fade-in{ opacity:0; transform: translateY(18px); transition: all .6s ease; }
    .fade-in.reveal{ opacity:1; transform: translateY(0); }
  </style>
</head>
<body id="top">

  <!-- Navbar (desktop: PDU left, links center, NYU right) (mobile: NYU left · PDU centered · burger right) -->
  <header class="glass-navbar" id="siteNavbar">
    <div class="container nav-container">
      <!-- NYU (left on mobile) -->
      <div class="nav-right" aria-label="NYU logo">
        <img src="NYU_Short_RGB_White.png" alt="NYU Logo" class="logo-nyu" />
      </div>

      <!-- Desktop links center -->
      <nav class="nav-links" aria-label="Primary">
        <ul class="menu-root">
          <li><a href="index.html">Home</a></li>

          <li class="has-submenu">
            <a href="about.html" class="top-link" aria-haspopup="true" aria-expanded="false">About</a>
            <ul class="submenu" role="menu" aria-label="About submenu">
              <li role="none"><a role="menuitem" href="about.html#who-we-are">Who We Are</a></li>
              <li role="none"><a role="menuitem" href="beginner.html">Beginners Guide</a></li>
              <li role="none"><a role="menuitem" href="about.html#meetings">Meetings & Attendance</a></li>
              <li role="none"><a role="menuitem" href="equity.html">Equity Policy</a></li>
              <li role="none"><a role="menuitem" href="why-pdu.html">Why PDU</a></li>
            </ul>
          </li>

          <li class="has-submenu">
            <a href="tournaments.html" class="top-link" aria-haspopup="true" aria-expanded="false">Tournaments</a>
            <ul class="submenu" role="menu" aria-label="Tournaments submenu">
              <li role="none"><a role="menuitem" href="tournaments.html#featured">Next Tournament</a></li>
              <li role="none"><a role="menuitem" href="calendar.html">Calendar</a></li>
            </ul>
          </li>

          <li class="has-submenu">
            <a href="join.html" class="top-link" aria-haspopup="true" aria-expanded="false">Join Us</a>
            <ul class="submenu" role="menu" aria-label="Join Us submenu">
              <li role="none"><a role="menuitem" href="join.html#mailing">Mailing List</a></li>
              <li role="none"><a role="menuitem" href="join.html#meetings">Meetings</a></li>
              <li role="none"><a role="menuitem" href="beginner.html">Beginners Guide</a></li>
              <li role="none"><a role="menuitem" href="practicetools.html">Practice Tools</a></li>
              <li role="none"><a role="menuitem" href="calendar.html">Calendar</a></li>
              <li role="none"><a role="menuitem" href="resources.html">Resources Library</a></li>
            </ul>
          </li>

          <li><a href="leadership.html" aria-current="page">Leadership</a></li>
          <li><a href="members.html">Members</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>

      <!-- PDU logo (left on desktop; centered on mobile) -->
      <div class="nav-left">
        <a href="index.html" aria-label="Home" class="brand-link">
          <img src="PDULOGO_Trans.png" alt="PDU Logo" class="logo-pdu" />
          <span class="brand-text">NYU | PDU</span>
        </a>
      </div>

      <!-- Burger (right on mobile) -->
      <button id="burger" class="nav-burger" aria-controls="mobileDrawer" aria-expanded="false" aria-label="Open menu">☰</button>
    </div>
  </header>

  <!-- Mobile drawer -->
  <div id="drawerScrim" class="drawer-scrim" hidden></div>
  <aside id="mobileDrawer" class="mobile-drawer" aria-hidden="true">
    <div class="drawer-header">
      <span>Menu</span>
      <button id="drawerClose" class="drawer-close" aria-label="Close menu">×</button>
    </div>
    <nav class="drawer-nav" aria-label="Mobile">
      <ul class="drawer-list">
        <li><a href="index.html">Home</a></li>

        <li class="drawer-group">
          <button class="drawer-toggle" aria-expanded="false">About</button>
          <ul class="drawer-submenu">
            <li><a href="about.html#who-we-are">Who We Are</a></li>
            <li><a href="beginner.html">Beginners Guide</a></li>
            <li><a href="about.html#meetings">Meetings & Attendance</a></li>
            <li><a href="equity.html">Equity Policy</a></li>
            <li><a href="why-pdu.html">Why PDU</a></li>
          </ul>
        </li>

        <li class="drawer-group">
          <button class="drawer-toggle" aria-expanded="false">Tournaments</button>
          <ul class="drawer-submenu">
            <li><a href="tournaments.html#featured">Next Tournament</a></li>
            <li><a href="tournaments.html">Upcoming</a></li>
            <li><a href="calendar.html">Calendar</a></li>
          </ul>
        </li>

        <li class="drawer-group">
          <button class="drawer-toggle" aria-expanded="false">Join Us</button>
          <ul class="drawer-submenu">
            <li><a href="join.html#mailing">Mailing List</a></li>
            <li><a href="join.html#meetings">Meetings</a></li>
            <li><a href="beginner.html">Beginners Guide</a></li>
            <li><a href="practicetools.html">Practice Tools</a></li>
            <li><a href="calendar.html">Calendar</a></li>
            <li><a href="resources.html">Resources Library</a></li>
          </ul>
        </li>

        <li><a href="leadership.html" aria-current="page">Leadership</a></li>
        <li><a href="members.html">Members</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Hero -->
  <section class="hero-section hero-compact" id="leadersHero">
    <h1 class="page-title">Leadership</h1>
    <p class="page-subtitle">NYU Parliamentary Debate Union Executive Board</p>
  </section>

  <!-- Glowing divider (kept) -->
  <div class="hero-divider" aria-hidden="true"></div>

  <!-- Main -->
  <main class="page-container">
    <!-- Fine print (requested) -->
    <p class="fine-print">Click any card to learn more.</p>

    <!-- Grid -->
    <section class="leaders-grid">

      <!-- Card template notes:
           - Entire card is a button for a11y click.
           - Data-* attributes feed the modal. Update emails/photos/bios as needed. -->

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Rayan Sheikh"
              data-role="President"
              data-img="placeholder.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Rayan coordinates team strategy, outreach, and the competitive calendar—aligning training, travel, and culture across the season.">
        <div class="leader-media"><img loading="lazy" src="placeholder.jpg" alt="Portrait of Rayan Sheikh"></div>
        <div class="leader-info">
          <h3 class="leader-name">Rayan Sheikh</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">President</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Allen Liu"
              data-role="President"
              data-img="placeholder.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Allen supports competitive development and represents PDU on the APDA circuit, aligning training with tournament goals.">
        <div class="leader-media"><img loading="lazy" src="placeholder.jpg" alt="Portrait of Allen Liu"></div>
        <div class="leader-info">
          <h3 class="leader-name">Allen Liu</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">President</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Marcel Cato"
              data-role="Operations"
              data-img="your-photo.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Travel, logistics, rosters, and TIDs—your point of contact for sign-ups, itineraries, and attendance.">
        <div class="leader-media"><img loading="lazy" src="your-photo.jpg" alt="Portrait of Marcel Cato"></div>
        <div class="leader-info">
          <h3 class="leader-name">Marcel Cato</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">Operations</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Pranav Gupta"
              data-role="Finance"
              data-img="pranav.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Manages budgets, reimbursements, and funding so members can focus on growing as debaters.">
        <div class="leader-media"><img loading="lazy" src="pranav.jpg" alt="Portrait of Pranav Gupta"></div>
        <div class="leader-info">
          <h3 class="leader-name">Pranav Gupta</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">Finance</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Dara Adebanjo"
              data-role="Equity"
              data-img="placeholder.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Confidential reports, team culture, and coordination with tournament Equity—ensuring challenging debate without harm.">
        <span class="badge-equity">★ Equity</span>
        <div class="leader-media"><img loading="lazy" src="placeholder.jpg" alt="Portrait of Dara Adebanjo"></div>
        <div class="leader-info">
          <h3 class="leader-name">Dara Adebanjo</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">Equity</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Dedra Annakie"
              data-role="Communications"
              data-img="placeholder.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Mailing list, announcements, and social updates—keeping members and partners in the loop.">
        <div class="leader-media"><img loading="lazy" src="placeholder.jpg" alt="Portrait of Dedra Annakie"></div>
        <div class="leader-info">
          <h3 class="leader-name">Dedra Annakie</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">Communications</p>
        </div>
      </button>

      <button type="button" class="leader-card fade-in"
              aria-haspopup="dialog"
              data-name="Amish Gupta"
              data-role="Education"
              data-img="amish.jpg"
              data-email="placeholder@nyu.edu"
              data-bio="Lessons, scrims, and feedback frameworks to help members grow at their own pace and prep for tournaments.">
        <div class="leader-media"><img loading="lazy" src="amish.jpg" alt="Portrait of Amish Gupta"></div>
        <div class="leader-info">
          <h3 class="leader-name">Amish Gupta</h3>
          <div class="leader-sep" aria-hidden="true"></div>
          <p class="leader-title">Education</p>
        </div>
      </button>

    </section>

    <!-- Below-grid sections (kept + forced visible) -->
    <section class="below-cards">
      <article class="glass-card fade-in">
        <h3 class="about-header">About the Executive Board</h3>
        <p class="about-preview">
          PDU’s Executive Board (“E-Board”) plans meetings, coaches novices, coordinates travel, upholds equity, and represents NYU on the APDA circuit. Officers align training goals, publish TIDs, and keep the season running smoothly.
        </p>
      </article>

      <article class="glass-card fade-in">
        <h3 class="about-header">Next Steps</h3>
        <div class="modal-actions">
          <a class="chip" href="members.html">Members →</a>
          <a class="chip" href="about.html">About Us →</a>
          <a class="chip" href="join.html">New? Join us →</a>
          <a class="chip" href="contact.html">Contact PDU →</a>
        </div>
      </article>
    </section>
  </main>

  <!-- Footer -->
  <footer class="glass-footer">
    <p>© 2025 NYU Parliamentary Debate Union. All rights reserved.</p>
    <p class="disclaimer">NYU PDU is a student-run club, approved by but not affiliated with New York University in an institutional capacity.</p>
  </footer>

  <!-- Back to top -->
  <a href="#top" id="float-button" title="Back to top">
    <img src="PDULOGO_Trans.png" alt="Return Home">
  </a>

  <!-- ===== Full-screen Modal (single template populated from card data) ===== -->
  <div id="leaderModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalName">
    <div class="modal-scrim" data-close></div>
    <div class="modal-panel" role="document">
      <button class="modal-close" aria-label="Close" data-close>×</button>

      <div class="modal-media">
        <img id="modalImg" alt="" loading="lazy">
      </div>

      <div class="modal-body">
        <h3 id="modalName" class="modal-name"></h3>
        <div class="modal-sep" aria-hidden="true"></div>
        <p id="modalRole" class="modal-role"></p>
        <p id="modalBio" class="modal-bio"></p>

        <div class="modal-actions">
          <a id="modalEmail" class="chip" href="#" target="_blank" rel="noopener">Email →</a>
          <!-- Add more chips here (e.g., LinkedIn, Calendly) when available -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== reveal on scroll (subtle) =====
    const io = new IntersectionObserver((entries)=> {
      entries.forEach(e => { if(e.isIntersecting){ e.target.classList.add('reveal'); io.unobserve(e.target); } });
    }, { threshold: .08 });
    document.querySelectorAll('.fade-in').forEach(el => io.observe(el));

    // ===== navbar / drawer =====
    const navbar = document.getElementById('siteNavbar');
    function setNavHeightVar(){
      const h = navbar.getBoundingClientRect().height;
      document.documentElement.style.setProperty('--nav-height', h + 'px');
    }
    setNavHeightVar(); window.addEventListener('resize', setNavHeightVar);
    if('ResizeObserver' in window){ new ResizeObserver(setNavHeightVar).observe(navbar); }

    const burger = document.getElementById('burger');
    const drawer = document.getElementById('mobileDrawer');
    const drawerClose = document.getElementById('drawerClose');
    const scrim = document.getElementById('drawerScrim');
    function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); burger.setAttribute('aria-expanded','true'); scrim.hidden=false; document.body.style.overflow='hidden'; const first=drawer.querySelector('button,a'); if(first) first.focus(); }
    function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); burger.setAttribute('aria-expanded','false'); scrim.hidden=true; document.body.style.overflow=''; burger.focus(); }
    function toggleDrawer(){ drawer.classList.contains('open') ? closeDrawer() : openDrawer(); }
    burger.addEventListener('click', toggleDrawer);
    drawerClose.addEventListener('click', closeDrawer);
    scrim.addEventListener('click', closeDrawer);
    window.addEventListener('keydown', e => { if(e.key==='Escape' && drawer.classList.contains('open')) closeDrawer(); });
    document.querySelectorAll('.drawer-toggle').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const ex = btn.getAttribute('aria-expanded')==='true';
        btn.setAttribute('aria-expanded', String(!ex));
        btn.nextElementSibling.classList.toggle('open');
      });
    });
    document.querySelectorAll('.has-submenu').forEach(item=>{
      const link=item.querySelector('.top-link');
      item.addEventListener('mouseenter',()=>link.setAttribute('aria-expanded','true'));
      item.addEventListener('mouseleave',()=>link.setAttribute('aria-expanded','false'));
      link.addEventListener('focus',()=>link.setAttribute('aria-expanded','true'));
      const sm=item.querySelector('.submenu');
      sm?.addEventListener('keydown',e=>{ if(e.key==='Escape'){ link.focus(); link.setAttribute('aria-expanded','false'); } });
    });

    // ===== modal logic =====
    const modal = document.getElementById('leaderModal');
    const modalImg  = document.getElementById('modalImg');
    const modalName = document.getElementById('modalName');
    const modalRole = document.getElementById('modalRole');
    const modalBio  = document.getElementById('modalBio');
    const modalEmail = document.getElementById('modalEmail');

    let lastFocus = null;

    function openModal(data){
      lastFocus = document.activeElement;

      modalImg.src = data.img || '';
      modalImg.alt = data.name ? `Portrait of ${data.name}` : '';
      modalName.textContent = data.name || '';
      modalRole.textContent = data.role || '';
      modalBio.textContent  = data.bio  || '';
      if(data.email && !data.email.includes('placeholder')){
        modalEmail.href = `mailto:${data.email}`;
        modalEmail.style.display = '';
      } else {
        modalEmail.style.display = 'none';
      }

      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';

      // focus trap start at close button
      const closeBtn = modal.querySelector('.modal-close');
      closeBtn.focus();

      trapFocus(modal);
    }

    function closeModal(){
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      if(lastFocus) lastFocus.focus();
      releaseTrap();
    }

    // open handlers
    document.querySelectorAll('.leader-card').forEach(card=>{
      card.addEventListener('click', ()=>{
        const data = {
          name: card.dataset.name,
          role: card.dataset.role,
          img:  card.dataset.img,
          bio:  card.dataset.bio,
          email:card.dataset.email
        };
        openModal(data);
      });
      // Enter/Space already work on button; no extra key handler needed
    });

    // close handlers
    modal.addEventListener('click', (e)=>{
      if(e.target.matches('[data-close]')) closeModal();
    });
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modal.classList.contains('open')) closeModal();
    });

    // ===== focus trap =====
    let trapListener = null;
    function trapFocus(container){
      const selectors = [
        'a[href]', 'area[href]', 'input:not([disabled])', 'select:not([disabled])',
        'textarea:not([disabled])', 'button:not([disabled])', 'iframe', 'object', 'embed',
        '[contenteditable]', '[tabindex]:not([tabindex^="-"])'
      ];
      const focusables = () => Array.from(container.querySelectorAll(selectors.join(',')))
                                    .filter(el => el.offsetParent !== null || el === document.activeElement);

      trapListener = (e)=>{
        if(e.key !== 'Tab') return;
        const focusable = focusables();
        if(!focusable.length) return;
        const first = focusable[0], last = focusable[focusable.length - 1];
        if(e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
        else if(!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
      };
      container.addEventListener('keydown', trapListener);
    }
    function releaseTrap(){
      if(trapListener){ modal.removeEventListener('keydown', trapListener); trapListener = null; }
    }
  </script>
</body>
</html>
